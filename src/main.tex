%%
%% Author: s156757
%% 21-10-2017
%%

% Preamble
\documentclass{exam}
% Test requiring some non-standard packages

% todo
\makeatletter
\expandafter\providecommand\expandafter*\csname ver@framed.sty\endcsname
{2003/07/21 v0.8a Simulated by exam}
\makeatother

\usepackage[dutch]{babel} % May be necessary to delete auxiliary files after changing.
\usepackage[fleqn]{amsmath} % left align equations option
\usepackage{amsthm} % proof environments
\usepackage{amssymb} % some symbols like probability P, or real number R
\usepackage{mathtools} % improvement over amsmath, like \coloneqq 
\usepackage{enumerate} % numbered list
\usepackage{enumitem} % Provides [resume] option for enumerate
\usepackage{thmtools} % define custom to prove environments
\usepackage{stmaryrd} % \lightning

\usepackage{xcolor} % colors
\usepackage{pdfpages} % to include external pdfs
\usepackage{centernot} % \centernot \implies looks correct
\usepackage{tikz} % Used for drawings
\usepackage{imakeidx} % Used for index
\usepackage[makeroom]{cancel} % to draw a diagonal line through formulas
\usepackage{hyperref} % should make index clickable
\usepackage{bookmark} % Used for pdf bookmarks, needs to be loaded AFTER hyperref
\usepackage{pgfplots} % Drawings!
\usepackage{bm} % bold math, \bm{}
\usepackage{listings} % to include code with env. lstlisting
\usepackage{graphicx} % to use \includegraphics
\usepackage{booktabs} % Better spacing for tables
\usepackage{polynom} % Polynomial long division
\usepackage{multirow} % Improvements to table layout


\usepackage{marvosym} % Extra math symbols
\usepackage{amsfonts} % An extended set of math fonts
%\usepackage{fancyhdr} % Nicer page headers/footers. WARNING clashes with exam class!
\usepackage{ulem} % Provides an \ul (underline) command which will break over line ends
\usepackage{iflang}
\usepackage[margin=8em]{geometry} % Adjust page margins
\usepackage[default,osfigures]{opensans} % Open Sans typeface
\usepackage{algorithm} % Algorithm environment
\usepackage[noend]{algpseudocode} % Layout for algorithmicx package
\usepackage{chngcntr} % Customise table/figure counters

\usepackage[cache=false,newfloat]{minted} % to include syntax highlighted code
\usepackage{caption} % to allow captions in minted code sections

% Copy of local file C:/Program Files/SageMath 8.1/runtime/opt/sagemath-8.1/local/share/texmf/tex/latex/sagetex/sagetex.sty
% Not per se machine-independent.
\usepackage{sagetex}

% Use: run LaTeX, run 'sage myfile.sagetex.sage' in Sage shell, run LaTeX again.

% To typeset output in latex for sagecommandline environment
\renewcommand{\sagecommandlinetextoutput}{False}

\makeindex

% Document
\begin{document}

    Hello!
    This is a new release $\lightning$. \index{lightning}

    \input{chapter1}

    They said~\cite{book1}.

    \begin{sagecommandline}
        sage: r,B = var('r,B')
        sage: f = (x*r*B)/((1-x)^2 * (1-x*r))
        sage: f.partial_fraction(x)
    \end{sagecommandline}

    Sage can compute $1+1=\sage{1+1}$.

    \begin{sagesilent}
        q = 1000000000001209
        p = 4*q+1
        sk_b = 32395235; pk_a = 423570969118299
        h = mod(sk_b * pk_a, p)
        cipher = 3752138087151167
    \end{sagesilent}

    Hidden message in $\sage{mod(h^-1 * cipher, p)}$.

    % Example from https://github.com/geekcomputers/Python/blob/master/Koch%20Curve/koch%20curve.py
    \begin{minted}{python}
        #importing the libraries
        #turtle standard graphics library for python
        from turtle import *

        #function to create koch snowflake or koch curve
        def snowflake(lengthSide, levels):
            if levels == 0:
                forward(lengthSide)
                return
            lengthSide /= 3.0
            snowflake(lengthSide, levels-1)
            left(60)
            snowflake(lengthSide, levels-1)
            right(120)
            snowflake(lengthSide, levels-1)
            left(60)
            snowflake(lengthSide, levels-1)

        #main function
        if __name__ == "__main__":
            speed(0)                    #defining the speed of the turtle
            length = 300.0              #
            penup()                     #Pull the pen up – no drawing when moving.
            #Move the turtle backward by distance, opposite to the direction the turtle is headed.
            #Do not change the turtle’s heading.
            backward(length/2.0)
            pendown()
            for i in range(3):
                #Pull the pen down – drawing when moving.
                snowflake(length, 4)
                right(120)
            #To control the closing windows of the turtle
            mainloop()
    \end{minted}

    \bibliography{books}
    \bibliographystyle{plain}

    \printindex

\end{document}